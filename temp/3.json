{
  "task_id": 3,
  "task_name": "Publishing Organization Models",
  "description": "Create PublishingOrganization and PublishingOrganizationMember models",
  "priority": "High",
  "estimated_hours": 6,
  "status": "Not Started",
  "dependencies": [1],
  "detailed_requirements": {
    "objective": "Implement the organization membership system as specified in ERD",
    "models_to_create": {
      "PublishingOrganization": {
        "purpose": "Main organization entity that publishes resources",
        "erd_fields": [
          "id (integer primary key)",
          "name: string (e.g. 'Tafsir Center')",
          "slug: string (unique, e.g. 'tafsir-center')",
          "icone_image_url: string (used in V1 UI: Publisher Page)",
          "summary: text (used in V1 UI: Publisher Page)",
          "created_at: datetime",
          "updated_at: datetime"
        ],
        "relationships": [
          "ManyToMany with User through PublishingOrganizationMember"
        ]
      },
      "PublishingOrganizationMember": {
        "purpose": "Junction table for User-Organization membership with roles",
        "erd_fields": [
          "id (integer primary key)",
          "publishing_organization_id: int (FK)",
          "user_id: int (FK)", 
          "role: enum('owner', 'manager')",
          "created_at: datetime",
          "updated_at: datetime"
        ],
        "v1_role_specs": {
          "owner": "Full organization control",
          "manager": "Itqan team to upload data on publishers behalf from Admin Panel. V2: more rules."
        }
      }
    }
  },
  "api_integration": {
    "publisher_api_alignment": "Must support OpenAPI PublisherSummary and Publisher schemas",
    "required_api_fields": [
      "id", "name", "thumbnail_url", "bio", "verified",
      "description", "cover_url", "location", "website", 
      "social_links", "stats"
    ],
    "additional_api_fields": [
      "Add fields needed for API but not in ERD (bio, verified, etc.)"
    ]
  },
  "business_logic": {
    "membership_rules": [
      "One user can belong to multiple organizations",
      "One organization can have multiple members",
      "Each membership has a specific role (owner/manager)",
      "Unique constraint on (user, organization) pairs"
    ],
    "v1_constraints": [
      "Auto-approval for organization creation",
      "Simple role system (owner/manager only)",
      "Manager role allows Itqan team to manage publisher content"
    ]
  },
  "migration_impact": {
    "existing_resources": "Current Resource.publisher (User FK) must be migrated to PublishingOrganization FK",
    "data_transformation": "Create organizations for existing publisher users",
    "relationship_updates": "Update all Resource objects to point to organizations instead of users"
  },
  "acceptance_criteria": [
    "PublishingOrganization model created with all ERD fields",
    "PublishingOrganizationMember model created with proper relationships",
    "ManyToMany relationship works correctly",
    "Role-based permissions are implemented",
    "API serializers return correct publisher data",
    "Admin interface allows organization management"
  ]
}
